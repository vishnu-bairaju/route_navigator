(this["webpackJsonproute-navigator"]=this["webpackJsonproute-navigator"]||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(31),i=n(4),c=n(10),o=n(6),u="ADD_ITEM",s="DELETE_ITEM",l={numOfItems:0};var d=Object(c.a)({cartCounter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return console.log(e.numOfItems+1),Object(o.a)(Object(o.a)({},e),{},{numOfItems:e.numOfItems+1});case s:return Object(o.a)(Object(o.a)({},e),{},{numOfItems:e.numOfItems-1});default:return e}}}),m=d,f=Object(c.b)(m),j=n(1),b=n(2),g=(n(47),n(5)),v=n.n(g),O=n(17),p=n.n(O),h=(n(60),function(){var e=Object(a.useRef)(),t=Object(a.useState)(-.22),n=Object(b.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(51.2),o=Object(b.a)(c,2),u=o[0],s=o[1],l=Object(a.useState)({}),d=Object(b.a)(l,2),m=d[0],f=d[1],g=function(e){return{point:{latitude:e.lat,longitude:e.lng}}};return Object(a.useEffect)((function(){var t={lng:r,lat:u},n=[],a=v.a.map({key:"8LwBzLiXVxbsArt800KkbAiK5mT6O3hg",container:e.current,stylesVisibility:{trafficIncidents:!0,trafficFlow:!0},center:[r,u],zoom:8});f(a);!function(){var e=new v.a.Popup({offset:{bottom:[0,-25]}}).setHTML("This is a stop"),t=document.createElement("div");t.className="marker";var n=new v.a.Marker({draggable:!0,element:t}).setLngLat([r,u]).addTo(a);n.on("dragend",(function(){var e=n.getLngLat();i(e.lng),s(e.lat)})),n.setPopup(e).togglePopup()}();var c=function(){(function(e){var n={key:"8LwBzLiXVxbsArt800KkbAiK5mT6O3hg",destinations:e.map((function(e){return g(e)})),origins:[g(t)]};return new Promise((function(t,a){p.a.services.matrixRouting(n).then((function(n){var a=n.matrix[0].map((function(t,n){return{location:e[n],drivingtime:t.response.routeSummary.travelTimeInSeconds}}));a.sort((function(e,t){return e.drivingtime-t.drivingtime}));var r=a.map((function(e){return e.location}));t(r)}))}))})(n).then((function(e){e.unshift(t),p.a.services.calculateRoute({key:"8LwBzLiXVxbsArt800KkbAiK5mT6O3hg",locations:e}).then((function(e){var t=e.toGeoJson();a.getLayer("route")&&(a.removeLayer("route"),a.removeSource("route")),a.addLayer({id:"route",type:"line",source:{type:"geojson",data:t},paint:{"line-color":"#4a90e2","line-width":3}})}))}))};return a.on("click",(function(e){n.push(e.lngLat),function(e,t){var n=document.createElement("div");n.className="marker",new v.a.Marker({element:n}).setLngLat(e).addTo(t)}(e.lngLat,a),c()})),function(){return a.remove()}}),[r,u]),Object(j.jsx)(j.Fragment,{children:m&&Object(j.jsxs)("div",{className:"map-container",children:[Object(j.jsx)("div",{ref:e,className:"mapDiv"}),Object(j.jsxs)("div",{className:"search-bar",children:[Object(j.jsx)("h1",{children:"Where to?"}),Object(j.jsx)("input",{type:"text",id:"longitude",className:"longitude",placeholder:"Put in longitude",onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("input",{type:"text",id:"latitude",className:"latitude",placeholder:"Put in latitude",onChange:function(e){return s(e.target.value)}})]})]})})});n(61);function x(){return Object(j.jsx)(i.a,{store:f,children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"header",children:"Route Navigator"}),Object(j.jsx)(h,{})]})})}var L=document.getElementById("root");Object(r.createRoot)(L).render(Object(j.jsx)(a.StrictMode,{children:Object(j.jsx)(x,{})}))}},[[62,1,2]]]);
//# sourceMappingURL=main.ae2e2bb7.chunk.js.map